<!DOCTYPE html><html lang="vi"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Super Admin - Quáº£n lÃ½ KhÃ¡ch hÃ ng</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css"><style>body{background:#1a1a1a;min-height:100vh}.navbar{background:#000}.navbar-item,.navbar-link{color:#00d1b2!important;font-weight:700}.card{background:#2c2c2c;color:#fff;border:1px solid #444}.title{color:#fff!important}.label{color:#aaa!important}.input,.select select{background:#333;color:#fff;border-color:#555}.table{background:#2c2c2c;color:#fff}.table th{color:#00d1b2}</style></head><body><nav class="navbar"><div class="navbar-brand"><div class="navbar-item">ğŸ‘‘ BOSS ADMIN</div></div><div class="navbar-end"><div class="navbar-item"><button class="button is-danger is-small" id="logoutBtn">ÄÄƒng xuáº¥t</button></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column is-4"><div class="card"><header class="card-header"><p class="card-header-title">â• Cáº¥p tÃ i khoáº£n má»›i</p></header><div class="card-content"><form id="createAccountForm"><div class="field"><label class="label">TÃªn Ä‘Äƒng nháº­p (Username)</label><div class="control"><input class="input" type="text" id="newUsername" required placeholder="VD: khachhang01"></div></div><div class="field"><label class="label">Máº­t kháº©u</label><div class="control"><input class="input" type="text" id="newPassword" required placeholder="Máº­t kháº©u"></div></div><div class="field"><label class="label">GÃ³i Ä‘Äƒng kÃ½</label><div class="control"><div class="select is-fullwidth"><select id="packageType"><option value="1">1 NgÃ y (20k)</option><option value="7">1 Tuáº§n (120k)</option><option value="30">1 ThÃ¡ng (360k)</option><option value="365">1 NÄƒm (3.960k)</option></select></div></div></div><div class="field"><label class="label">Ghi chÃº (TÃªn khÃ¡ch/SÄT)</label><div class="control"><input class="input" type="text" id="note" placeholder="Nguyen Van A - 0912..."></div></div><div class="field"><button type="submit" class="button is-primary is-fullwidth">ğŸ’° XÃ¡c nháº­n cáº¥p quyá»n</button></div></form></div></div></div><div class="column is-8"><div class="card"><header class="card-header"><p class="card-header-title">ğŸ“‹ Danh sÃ¡ch khÃ¡ch hÃ ng</p></header><div class="card-content"><div class="table-container"><table class="table is-fullwidth is-hoverable"><thead><tr><th>User</th><th>Pass</th><th>Háº¿t háº¡n</th><th>Ghi chÃº</th><th>Tráº¡ng thÃ¡i</th><th>HÃ nh Ä‘á»™ng</th></tr></thead><tbody id="userList"><tr><td colspan="6" class="has-text-centered">Äang táº£i...</td></tr></tbody></table></div></div></div></div></div></div></section><script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script><script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script><script src="firebase.config.js"></script><script>let SUPER_ADMIN_PASS="tranhuyhoang";if("true"!==sessionStorage.getItem("super_admin")){let e=prompt("Nháº­p máº­t kháº©u Super Admin:");e!==SUPER_ADMIN_PASS?(alert("Sai máº­t kháº©u!"),window.location.href="index.html"):sessionStorage.setItem("super_admin","true")}document.getElementById("logoutBtn").addEventListener("click",()=>{sessionStorage.removeItem("super_admin"),window.location.reload()});let form=document.getElementById("createAccountForm"),userList=document.getElementById("userList");firebase.database().ref("Diemdanh/Users").on("value",e=>{let r=e.val();userList.innerHTML="",r?Object.keys(r).forEach(e=>{var t=r[e],a=new Date(t.expiryDate),n=Date.now()>t.expiryDate?'<span class="tag is-danger">Háº¿t háº¡n</span>':'<span class="tag is-success">Hoáº¡t Ä‘á»™ng</span>',s=document.createElement("tr");s.innerHTML=`
                    <td><strong>${e}</strong></td>
                    <td>${t.password}</td>
                    <td>${a.toLocaleDateString("vi-VN")}</td>
                    <td>${t.note||"-"}</td>
                    <td>${n}</td>
                    <td>
                        <button class="button is-small is-danger" onclick="deleteUser('${e}')">
                            ğŸ—‘ï¸ XÃ³a
                        </button>
                    </td>
                `,userList.appendChild(s)}):userList.innerHTML='<tr><td colspan="6" class="has-text-centered">ChÆ°a cÃ³ khÃ¡ch hÃ ng nÃ o</td></tr>'}),form.addEventListener("submit",async e=>{e.preventDefault();var e=document.getElementById("newUsername").value.trim().toLowerCase(),t=document.getElementById("newPassword").value.trim(),a=parseInt(document.getElementById("packageType").value),n=document.getElementById("note").value;if(/[^a-z0-9]/.test(e))alert("Username chá»‰ Ä‘Æ°á»£c chá»©a chá»¯ thÆ°á»ng vÃ  sá»‘, khÃ´ng dáº¥u, khÃ´ng khoáº£ng cÃ¡ch!");else{var s=new Date,a=(s.setDate(s.getDate()+a),{password:t,expiryDate:s.getTime(),note:n,createdAt:firebase.database.ServerValue.TIMESTAMP});try{(await firebase.database().ref("Diemdanh/Users/"+e).once("value")).exists()&&!confirm("User nÃ y Ä‘Ã£ tá»“n táº¡i. Báº¡n cÃ³ muá»‘n ghi Ä‘Ã¨ (gia háº¡n) khÃ´ng?")||(await firebase.database().ref("Diemdanh/Users/"+e).set(a),alert(`âœ… ÄÃ£ cáº¥p quyá»n cho [${e}] thÃ nh cÃ´ng!
Háº¿t háº¡n: `+s.toLocaleDateString()),form.reset())}catch(e){alert("Lá»—i: "+e.message)}}}),window.deleteUser=async function(e){if(confirm(`âš ï¸ Cáº¢NH BÃO!

Báº¡n sáº¯p xÃ³a khÃ¡ch hÃ ng [${e}].

Báº¡n cháº¯c cháº¯n chá»©?`))if(prompt("ğŸ”’ Äá»ƒ thá»±c hiá»‡n xÃ³a vÄ©nh viá»…n, vui lÃ²ng nháº­p máº­t kháº©u Super Admin:")!==SUPER_ADMIN_PASS)alert("â›” Máº­t kháº©u khÃ´ng Ä‘Ãºng!");else try{await firebase.database().ref("Diemdanh/Users/"+e).remove(),alert("âœ… ÄÃ£ xÃ³a khÃ¡ch hÃ ng!")}catch(e){console.error(e),alert("Lá»—i khi xÃ³a: "+e.message)}}</script></body></html>