<!DOCTYPE html><html lang="vi"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>ÄÄƒng kÃ½ sinh hoáº¡t hÃ¨</title><link rel="stylesheet" href="/Sinhhoathe/main.css"><style>body{background:#f7f8fc}.is-required::after{content:" *";color:#ff3860}.help.is-error{color:#ff3860}</style><link rel="icon" href="/assets/images/ballbang_favicon.png"><meta name="robots" content="noindex, nofollow"></head><body><section class="section"><div class="container" style="max-width:800px"><h1 class="title is-3 has-text-centered">ğŸ“ Phiáº¿u Ä‘Äƒng kÃ½ sinh hoáº¡t hÃ¨ Online</h1><p class="subtitle is-6 has-text-centered">GiÃ nh cho Äá»™i viÃªn, thiáº¿u nhi tham gia sinh hoáº¡t táº¡i Ä‘á»‹a phÆ°Æ¡ng hÃ¨ nÄƒm 2026</p><div class="card"><div class="card-content"><form id="summerForm" novalidate><div class="field"><label class="label is-required">Há» vÃ  tÃªn há»c sinh</label><div class="control"><input id="fullName" class="input" type="text" placeholder="VD: NGUYá»„N VÄ‚N A" required></div><p id="errName" class="help is-error" style="display:none">Vui lÃ²ng nháº­p Há»Œ VÃ€ TÃŠN báº±ng chá»¯ IN HOA (A-Z, khoáº£ng tráº¯ng, tá»‘i thiá»ƒu 2 tá»«).</p></div><div class="columns"><div class="column is-6"><div class="field"><label class="label is-required">NÄƒm sinh</label><div class="control"><input id="birthYear" class="input" type="text" inputmode="numeric" pattern="[0-9]*" placeholder="VD: 2012" required></div><p id="errYear" class="help is-error" style="display:none">Vui lÃ²ng nháº­p nÄƒm sinh (4 chá»¯ sá»‘).</p></div></div><div class="column is-6"><div class="field"><label class="label is-required">TrÆ°á»ng há»c hiá»‡n táº¡i</label><div class="control"><div class="select is-fullwidth"><select id="school" required><option value="">-- Chá»n trÆ°á»ng --</option></select></div></div><p id="errSchool" class="help is-error" style="display:none">Vui lÃ²ng chá»n trÆ°á»ng.</p></div></div></div><div class="columns"><div class="column is-6"><div class="field"><label class="label is-required">XÃ£/PhÆ°á»ng</label><div class="control"><div class="select is-fullwidth"><select id="ward" required><option value="">-- Chá»n xÃ£/phÆ°á»ng --</option></select></div></div></div></div><div class="column is-6"><div class="field"><label class="label is-required">Tá»• dÃ¢n phá»‘ / ThÃ´n</label><div class="control"><div class="select is-fullwidth"><select id="hamlet" required><option value="">-- Chá»n tá»• dÃ¢n phá»‘ / thÃ´n --</option></select></div></div></div></div></div><p id="errAddress" class="help is-error" style="display:none">Vui lÃ²ng chá»n Ä‘á»§ xÃ£/phÆ°á»ng vÃ  tá»• dÃ¢n phá»‘.</p><div class="field"><label class="label is-required">Há» vÃ  tÃªn phá»¥ huynh</label><div class="control"><input id="parentName" class="input" type="text" placeholder="VD: Nguyá»…n Thá»‹ B" required></div><p id="errParentName" class="help is-error" style="display:none">Vui lÃ²ng nháº­p há» tÃªn phá»¥ huynh (Ã­t nháº¥t 2 tá»«).</p></div><div class="field"><label class="label is-required">Sá»‘ Ä‘iá»‡n thoáº¡i phá»¥ huynh</label><div class="control"><input id="parentPhone" class="input" type="text" inputmode="numeric" pattern="[0-9]*" placeholder="VD: 0912345678" required></div><p id="errPhone" class="help is-error" style="display:none">Chá»‰ Ä‘Æ°á»£c nháº­p sá»‘, 9-11 chá»¯ sá»‘.</p></div><div class="field is-grouped" style="margin-top:2rem"><div class="control"><button id="btnSubmit" class="button is-primary is-medium">LÆ°u Ä‘Äƒng kÃ½</button></div><div class="control"><button id="btnReset" type="button" class="button is-light is-medium">Nháº­p láº¡i</button></div></div></form></div></div><div style="position:fixed;bottom:30px;right:30px;z-index:1000;display:flex;flex-direction:column;gap:12px;align-items:flex-end"><a href="/Sinhhoathe/dangky.html" style="display:flex;align-items:center;gap:10px;background:linear-gradient(135deg,#00d1b2 0,#00a896 100%);color:#fff;padding:12px 20px;border-radius:50px;box-shadow:0 4px 15px rgba(0,209,178,.4);text-decoration:none;font-weight:600;transition:all .3s ease;font-size:.95rem" onmouseover='this.style.transform="translateX(-5px)",this.style.boxShadow="0 6px 20px rgba(0, 209, 178, 0.5)"' onmouseout='this.style.transform="translateX(0)",this.style.boxShadow="0 4px 15px rgba(0, 209, 178, 0.4)"'><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="white"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg> <span>Trang chá»§</span> </a><a href="https://www.facebook.com/doanphuonglaocai/" target="_blank" rel="noopener noreferrer" style="display:flex;align-items:center;gap:10px;background:linear-gradient(135deg,#1877f2 0,#0d5dbf 100%);color:#fff;padding:12px 20px;border-radius:50px;box-shadow:0 4px 15px rgba(24,119,242,.4);text-decoration:none;font-weight:600;transition:all .3s ease;font-size:.95rem" onmouseover='this.style.transform="translateX(-5px)",this.style.boxShadow="0 6px 20px rgba(24, 119, 242, 0.5)"' onmouseout='this.style.transform="translateX(0)",this.style.boxShadow="0 4px 15px rgba(24, 119, 242, 0.4)"'><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="white"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/></svg> <span>LiÃªn há»‡</span> </a><a href="/Sinhhoathe/thongtinkhoa.html" target="_blank" rel="noopener noreferrer" style="display:flex;align-items:center;gap:10px;background:linear-gradient(135deg,#ff6b6b 0,#ee5a52 100%);color:#fff;padding:12px 20px;border-radius:50px;box-shadow:0 4px 15px rgba(255,107,107,.4);text-decoration:none;font-weight:600;transition:all .3s ease;font-size:.95rem" onmouseover='this.style.transform="translateX(-5px)",this.style.boxShadow="0 6px 20px rgba(255, 107, 107, 0.5)"' onmouseout='this.style.transform="translateX(0)",this.style.boxShadow="0 4px 15px rgba(255, 107, 107, 0.4)"'><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="white"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"/></svg> <span>ThÃ´ng tin cÃ¡c khÃ³a tráº£i nghiá»‡m ngáº¯n háº¡n</span></a></div><div class="notification is-info is-light" style="margin-top:1.5rem"><strong>ğŸ“Œ Quy trÃ¬nh:</strong><ol style="margin-top:.5rem;margin-left:1.5rem"><li>BÆ°á»›c 1: Äiá»n Ä‘áº§y Ä‘á»§ thÃ´ng tin bÃªn trÃªn.</li><li>BÆ°á»›c 2: Nháº¥n "LÆ°u Ä‘Äƒng kÃ½".</li><li>BÆ°á»›c 3: Khu dÃ¢n cÆ° xÃ¡c nháº­n, xáº¿p loáº¡i khi káº¿t thÃºc sinh hoáº¡t hÃ¨ -> Gá»­i káº¿t quáº£ vá» ÄoÃ n phÆ°á»ng.</li><li>BÆ°á»›c 4: ÄoÃ n phÆ°á»ng xÃ¡c nháº­n thÃ´ng tin do Khu dÃ¢n cÆ° cung cáº¥p, gá»­i káº¿t quáº£ vá» cÃ¡c trÆ°á»ng há»c.</li><br><strong>LÆ°u Ã½:</strong> Phiáº¿u Online nÃ y thay tháº¿ cho phiáº¿u giáº¥y thÃ´ng thÆ°á»ng cá»§a nhá»¯ng nÄƒm trÆ°á»›c. Phá»¥ huynh khÃ´ng cáº§n xin xÃ¡c nháº­n hay ná»™p báº¥t cá»© giáº¥y tá» gÃ¬ khÃ¡c.</ol></div><div class="card saved-list" style="margin-top:2rem"><div class="card-content"><div class="level"><div class="level-left"><h2 class="title is-5">Danh sÃ¡ch Ä‘Ã£ Ä‘Äƒng kÃ½ <span id="totalBadge" class="tag is-info is-light">0</span></h2></div><div class="level-right"><div class="field"><div class="control"><input id="searchInput" class="input" type="text" style="width:350px;max-width:100%" placeholder="TÃ¬m theo tÃªn há»c sinh hoáº·c phá»¥ huynh..."></div></div></div></div><div class="notification is-info is-light"><strong>ğŸ’¡ Máº¹o:</strong> Sá»­ dá»¥ng Ã´ tÃ¬m kiáº¿m Ä‘á»ƒ kiá»ƒm tra xem báº¡n Ä‘Ã£ Ä‘Äƒng kÃ½ chÆ°a.</div><div class="table-container"><table class="table is-fullwidth is-striped is-hoverable"><thead><tr><th>#</th><th>Há» vÃ  tÃªn</th><th>NÄƒm sinh</th><th>TrÆ°á»ng</th><th>Äá»‹a chá»‰</th><th>Phá»¥ huynh</th><th>SÄT PH</th></tr></thead><tbody id="registrationsList"></tbody></table></div><nav id="pagination" class="pagination is-centered is-small" role="navigation" aria-label="pagination" style="margin-top:1.5rem;min-height:40px"></nav></div></div></div></section><script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script><script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script><script src="/Sinhhoathe/firebase.config.js"></script><script>let el={fullName:document.getElementById("fullName"),birthYear:document.getElementById("birthYear"),school:document.getElementById("school"),ward:document.getElementById("ward"),hamlet:document.getElementById("hamlet"),parentName:document.getElementById("parentName"),parentPhone:document.getElementById("parentPhone"),btnSubmit:document.getElementById("btnSubmit"),btnReset:document.getElementById("btnReset"),errName:document.getElementById("errName"),errYear:document.getElementById("errYear"),errSchool:document.getElementById("errSchool"),errAddress:document.getElementById("errAddress"),errParentName:document.getElementById("errParentName"),errPhone:document.getElementById("errPhone")},searchInput=document.getElementById("searchInput"),registrationsList=document.getElementById("registrationsList"),totalBadge=document.getElementById("totalBadge"),paginationContainer=document.getElementById("pagination"),ALL_REGISTRATIONS=[],searchQuery="",currentPage=1,itemsPerPage=5,META_CACHE={schools:[],wards:[],hamlets:{}};function loadMetadata(){window.firebase&&window.firebase.apps&&window.firebase.apps.length?firebase.database().ref("Sinhhoathe/Meta").on("value",e=>{e=e.val()||{};META_CACHE={schools:e.schools||[],wards:e.wards||[],hamlets:e.hamlets||{}},renderMetaOptions()}):console.error("Firebase not initialized")}function renderMetaOptions(){el.school.innerHTML='<option value="">-- Chá»n trÆ°á»ng --</option>',META_CACHE.schools.forEach(e=>{var t=document.createElement("option");t.value=e,t.textContent=e,el.school.appendChild(t)}),el.ward.innerHTML='<option value="">-- Chá»n xÃ£/phÆ°á»ng --</option>',META_CACHE.wards.forEach(e=>{var t=document.createElement("option");t.value=e,t.textContent=e,el.ward.appendChild(t)}),el.hamlet.innerHTML='<option value="">-- Chá»n tá»• dÃ¢n phá»‘ / thÃ´n --</option>'}function maskPhone(e){return!e||e.length<3?"***":"***"+e.slice(-3)}function normalizeString(e){return e?e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""):""}function renderPagination(e){paginationContainer.innerHTML="";var t=Math.ceil(e/itemsPerPage);if(!(t<=1)){var e=document.createElement("a"),e=(e.className="pagination-previous",e.textContent="TrÆ°á»›c",1===currentPage?e.setAttribute("disabled",!0):e.onclick=()=>{currentPage--,renderRegistrationsList()},paginationContainer.appendChild(e),document.createElement("a")),a=(e.className="pagination-next",e.textContent="Sau",currentPage===t?e.setAttribute("disabled",!0):e.onclick=()=>{currentPage++,renderRegistrationsList()},paginationContainer.appendChild(e),document.createElement("ul"));a.className="pagination-list";for(let e=1;e<=t;e++){var n=document.createElement("li"),r=document.createElement("a");r.className="pagination-link "+(e===currentPage?"is-current":""),r.textContent=e,r.onclick=()=>{currentPage=e,renderRegistrationsList()},n.appendChild(r),a.appendChild(n)}paginationContainer.appendChild(a)}}function renderRegistrationsList(){if(registrationsList){registrationsList.innerHTML="";let a=normalizeString(searchQuery);var e,t=ALL_REGISTRATIONS.filter(e=>{var t;return!a||(t=normalizeString(e.fullName||""),e=normalizeString(e.parentName||""),t.includes(a))||e.includes(a)}),r=t.length;if(totalBadge&&(a?(totalBadge.textContent=r+"/"+ALL_REGISTRATIONS.length,totalBadge.className="tag is-success is-light"):(totalBadge.textContent=ALL_REGISTRATIONS.length,totalBadge.className="tag is-info is-light")),0===r)e=document.createElement("tr"),(l=document.createElement("td")).colSpan=7,l.className="has-text-centered has-text-grey",l.textContent=a?"KhÃ´ng tÃ¬m tháº¥y káº¿t quáº£ nÃ o.":"ChÆ°a cÃ³ Ä‘Äƒng kÃ½ nÃ o.",e.appendChild(l),registrationsList.appendChild(e),paginationContainer.innerHTML="";else{let n=(currentPage-1)*itemsPerPage;var l=n+itemsPerPage;t.slice(n,l).forEach((e,t)=>{var a=document.createElement("tr");a.innerHTML=`
            <td>${n+t+1}</td>
            <td>${e.fullName||""}</td>
            <td>${e.birthYear||""}</td>
            <td>${e.school||""}</td>
            <td>
              <strong>${e.hamlet||""}</strong><br>
              <span class="is-size-7 has-text-grey">${e.ward||""}</span>
            </td>
            <td>${e.parentName||""}</td>
            <td>${maskPhone(e.parentPhone||"")}</td>
          `,registrationsList.appendChild(a)}),renderPagination(r)}}}function subscribeAllRegistrations(){window.firebase&&window.firebase.apps&&window.firebase.apps.length&&firebase.database().ref("Sinhhoathe/Registrations").on("value",e=>{ALL_REGISTRATIONS=[];let t=e.val();t&&Object.keys(t).forEach(e=>{ALL_REGISTRATIONS.push({...t[e],_key:e})}),renderRegistrationsList()})}function saveToLocal(e){var t=JSON.parse(localStorage.getItem("summer-regs")||"[]");t.push(e),localStorage.setItem("summer-regs",JSON.stringify(t))}function saveToFirebase(e){return window.firebase&&window.firebase.apps&&window.firebase.apps.length?firebase.database().ref("Sinhhoathe/Registrations").push(e):Promise.reject(new Error("firebase_not_available"))}el.ward.addEventListener("change",()=>{var e=el.ward.value;el.hamlet.innerHTML='<option value="">-- Chá»n tá»• dÃ¢n phá»‘ / thÃ´n --</option>',e&&META_CACHE.hamlets[e]&&META_CACHE.hamlets[e].forEach(e=>{var t=document.createElement("option");t.value=e,t.textContent=e,el.hamlet.appendChild(t)})}),searchInput&&searchInput.addEventListener("input",e=>{searchQuery=e.target.value.trim(),currentPage=1,renderRegistrationsList()}),el.btnSubmit.addEventListener("click",t=>{t.preventDefault(),[el.errName,el.errYear,el.errSchool,el.errAddress,el.errParentName,el.errPhone].forEach(e=>e.style.display="none");let e=!1;var t=el.fullName.value.trim(),a=((!/^([A-ZÃ€-á»¸\s]+)$/.test(t)||t.split(/\s+/).length<2)&&(el.errName.style.display="",e=!0),parseInt(el.birthYear.value,10),/^[0-9]{4}$/.test(el.birthYear.value)||(el.errYear.style.display="",e=!0),el.school.value||(el.errSchool.style.display="",e=!0),el.ward.value&&el.hamlet.value||(el.errAddress.style.display="",e=!0),el.parentName.value.trim());if(a.split(/\s+/).length<2&&(el.errParentName.style.display="",e=!0),/^\d{9,11}$/.test(el.parentPhone.value)||(el.errPhone.style.display="",e=!0),!e){let e={fullName:t,birthYear:el.birthYear.value,school:el.school.value,ward:el.ward.value,hamlet:el.hamlet.value,parentName:a,parentPhone:el.parentPhone.value,grade:"",savedAt:Date.now()};saveToFirebase(e).then(()=>{el.birthYear.value="",el.school.value="",el.ward.value="",el.parentName.value="",el.parentPhone.value="",el.fullName.value="",el.hamlet.innerHTML='<option value="">-- Chá»n tá»• dÃ¢n phá»‘ / thÃ´n --</option>',alert("ÄÃ£ lÆ°u thÃ´ng tin Ä‘Äƒng kÃ½.")}).catch(()=>{try{saveToLocal(e)}catch(e){console.error(e)}el.birthYear.value="",el.school.value="",el.ward.value="",el.parentName.value="",el.parentPhone.value="",el.fullName.value="",el.hamlet.innerHTML='<option value="">-- Chá»n tá»• dÃ¢n phá»‘ / thÃ´n --</option>',alert("ÄÃ£ lÆ°u thÃ´ng tin Ä‘Äƒng kÃ½.")})}}),el.btnReset.addEventListener("click",()=>{el.fullName.value="",el.birthYear.value="",el.school.value="",el.ward.value="",el.hamlet.innerHTML='<option value="">-- Chá»n tá»• dÃ¢n phá»‘ / thÃ´n --</option>',el.parentName.value="",el.parentPhone.value="",[el.errName,el.errYear,el.errSchool,el.errAddress,el.errParentName,el.errPhone].forEach(e=>e.style.display="none")}),loadMetadata(),subscribeAllRegistrations()</script></body></html>